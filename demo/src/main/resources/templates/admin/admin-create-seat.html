<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Create Seat - Q-Airline</title>
    <link rel="stylesheet" href="/css/brand.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>Q-Airline Admin</h2>
        </div>
        <ul class="nav-menu">
            <li class="nav-item">
                <a href="/admin/dashboard" class="nav-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/>
                        <path d="M9 22V12h6v10"/>
                    </svg>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a href="/admin/admin-flights" class="nav-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 19l7-7 3 3-7 7-3-3z"/>
                        <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
                    </svg>
                    Flights
                </a>
            </li>
            <li class="nav-item">
                <a href="/admin/admin-seats" class="nav-link active">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 3H7a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2z"/>
                        <line x1="12" y1="18" x2="12" y2="18"/>
                        <line x1="12" y1="12" x2="12" y2="12"/>
                        <path d="M9 11h6V7H9v4z"/>
                    </svg>
                    Seats
                </a>
            </li>
            <li class="nav-item">
                <a href="/admin/admin-tickets" class="nav-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                    Tickets
                </a>
            </li>
            <li class="nav-item">
                <a href="/admin/admin-users" class="nav-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 00-3-3.87"/>
                        <path d="M16 3.13a4 4 0 010 7.75"/>
                    </svg>
                    Users
                </a>
            </li>
            <li class="nav-item">
                <a href="/admin/admin-news" class="nav-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>
                    </svg>
                    News
                </a>
            </li>
            <li class="nav-item">
                <a href="/admin/delays" class="nav-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    Delays
                </a>
            </li>
             <li class="nav-item">
                <a href="/admin/admin-aircraft" class="nav-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 6L14.5 15.5L14 19L2 22L7 11L14 6Z"></path>
                        <path d="M22 6L14 14L14.5 15.5L14 19L2 22L7 11L14 6L22 6Z"></path>
                        <path d="M10 14L2 22"></path>
                    </svg>
                    Aircraft
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" id="logoutLink">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
                        <polyline points="16 17 21 12 16 7"/>
                        <line x1="21" y1="12" x2="9" y2="12"/>
                    </svg>
                    Logout
                </a>
            </li>
        </ul>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
        <div class="dashboard-header">
            <h1>Create New Seat</h1>
        </div>

        <div class="qa-card">
            <form id="createSeatForm">
                <div class="mb-3">
                    <label for="flightId" class="form-label">Flight ID</label>
                    <input type="number" class="qa-form-control" id="flightId" required>
                </div>
                <div class="mb-3">
                    <label for="aircraftId" class="form-label">Aircraft ID</label>
                    <input type="number" class="qa-form-control" id="aircraftId" required>
                </div>
                <div class="mb-3">
                    <label for="seatNumber" class="form-label">Seat Number</label>
                    <input type="text" class="qa-form-control" id="seatNumber" required>
                </div>
                <div class="mb-3">
                    <label for="seatType" class="form-label">Seat Type</label>
                    <select class="qa-form-select" id="seatType" required>
                        <option value="ECONOMY">Economy</option>
                        <option value="PREMIUM_ECONOMY">Premium Economy</option>
                        <option value="BUSINESS">Business</option>
                        <option value="FIRST">First</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="status" class="form-label">Status</label>
                    <select class="qa-form-select" id="status" required>
                        <option value="AVAILABLE">Available</option>
                        <option value="RESERVED">Reserved</option>
                        <option value="OCCUPIED">Occupied</option>
                        <option value="BLOCKED">Blocked</option>
                        <option value="MAINTENANCE">Maintenance</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="price" class="form-label">Price</label>
                    <input type="number" step="0.01" class="qa-form-control" id="price" required>
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="hasExtraLegroom">
                    <label class="form-check-label" for="hasExtraLegroom">Has Extra Legroom</label>
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="isEmergencyExit">
                    <label class="form-check-label" for="isEmergencyExit">Is Emergency Exit</label>
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="isBulkhead">
                    <label class="form-check-label" for="isBulkhead">Is Bulkhead</label>
                </div>
                <div class="mb-3">
                    <label for="row" class="form-label">Row</label>
                    <input type="number" class="qa-form-control" id="row" required>
                </div>
                <div class="mb-3">
                    <label for="column" class="form-label">Column</label>
                    <input type="text" class="qa-form-control" id="column" required>
                </div>
                <div class="mb-3">
                    <label for="notes" class="form-label">Notes</label>
                    <textarea class="qa-form-control" id="notes" rows="3"></textarea>
                </div>
                <button type="submit" class="qa-button-primary">Create Seat</button>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer class="qa-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h5>Q-Airline Admin</h5>
                    <p>Your trusted partner in air travel.</p>
                </div>
                <div class="footer-section">
                    <h5>Quick Links</h5>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Terms & Conditions</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h5>Contact Us</h5>
                    <p>Email: admin@qairline.com<br>
                    Phone: +1 234 567 890</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const logoutLink = document.getElementById('logoutLink');
        logoutLink.addEventListener('click', (e) => {
            e.preventDefault();
            localStorage.removeItem('jwtToken');
            localStorage.removeItem('userRole');
            document.cookie = 'jwt=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
            window.location.href = '/login.html';
        });

        document.getElementById('createSeatForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const seatData = {
                flightId: parseInt(document.getElementById('flightId').value),
                aircraftId: parseInt(document.getElementById('aircraftId').value),
                seatNumber: document.getElementById('seatNumber').value,
                seatType: document.getElementById('seatType').value,
                status: document.getElementById('status').value,
                price: parseFloat(document.getElementById('price').value),
                hasExtraLegroom: document.getElementById('hasExtraLegroom').checked,
                isEmergencyExit: document.getElementById('isEmergencyExit').checked,
                isBulkhead: document.getElementById('isBulkhead').checked,
                row: parseInt(document.getElementById('row').value),
                column: document.getElementById('column').value,
                notes: document.getElementById('notes').value
            };

            try {
                const response = await fetch('/api/seats', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(seatData)
                });

                if (!response.ok) {
                    throw new Error('Failed to create seat');
                }

                alert('Seat created successfully!');
                window.location.href = '/admin/admin-seats';
            } catch (error) {
                console.error('Error creating seat:', error);
                alert('Failed to create seat. Please try again.');
            }
        });
    </script>
</body>
</html> 

